### protocol

Ango builds on websockets. It uses a single websocket to facilitate:
 - fire-and-forget procedure
 - callback procedure
 - linked objects (data binding)

Every message sent over the websocket follows a basic structure, with child elements depending on the type of the message.

```json
{
	// type of information contained in this message
	//		"lor": linked object registration, only server > client
	//		"lora": linked object registration accept, only sent client > server
	//		"lord": linked object registration deny, only sent client > server
	//		"lou": linked object update, only server > client for now
	//		"req": request from one side to the other
	//		"reqa": request accepted (procedure exists)
	//		"reqd": request denied (procedure not found)
	//		"res": resolve on a earlier created deferred
	//		"rej": reject on a earlier created deferred
	//		"not": notify on a earlier created deferred
	type: "",

	// procedure name for the to-be-called procedure
	// exclusively and mandatory for type "req"
	procedure: "",

	// cb_id is a callback generated by side that creates the req
	// mandatory for types "lor", "lora", "req", "reqa", "reqd"
	cb_id: 0,

	// def_id refers to the deferred created for a request
	// when set for type "req", the client expects a res/rej, and can handle not.
	// mandatory for types "res", "rej", "not"
	def_id: 0,

	// lo_id refers to a registered linked object
	// it is set for types "lora" and "lou"
	lo_id: 0,

	// data object
	// type "req": parameters for the to-be-called procedure
	// types "rej", "res", "not": data for the resolve/reject/notify
	// type "lou": the new version of the linked object
	// optional for types "rej", "res", "not"
	data: {},

	// error string
	// can be set for type reqd
}
```